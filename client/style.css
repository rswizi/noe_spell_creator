@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css');
/* style.css */

/* Reset default browser styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Global Styles */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #0a0a0a; /* Deep black */
  color: #f0f0f0; /* Light text */
  padding: 40px;
  line-height: 1.6;
}

h1 {
  text-align: center;
  color: #c02d2d; /* NoE red */
  margin-bottom: 30px;
  font-size: 2.5rem;
}

form {
  max-width: 700px;
  margin: auto;
  padding: 30px;
  background-color: #1a1a1a;
  border: 1px solid #c02d2d;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(192, 45, 45, 0.4);
}

.effect-entry { display:flex; align-items:flex-start; gap:8px; margin:6px 0; }
.effect-desc  { font-size:.92rem; opacity:.85; margin:4px 0 0 0; }
.effect-col   { display:flex; flex-direction:column; flex:1; }


label {
  display: block;
  margin-bottom: 8px;
  font-weight: bold;
  color: #e2e2e2;
}

input[type="text"],
select {
  width: 100%;
  padding: 10px;
  margin-bottom: 20px;
  background-color: #101010;
  color: #f0f0f0;
  border: 1px solid #c02d2d;
  border-radius: 6px;
  transition: 0.3s;
}

input[type="text"]:focus,
select:focus {
  border-color: #ff4a4a;
  outline: none;
}

button {
  background-color: #c02d2d;
  color: white;
  border: none;
  padding: 8px 12px;
  margin-top: 4px;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.3s;
  font-size: 0.95rem;
}

button:hover {
  background-color: #ff4a4a;
}

input[type="submit"] {
  background-color: #c02d2d;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1.1rem;
  transition: background 0.3s;
}

input[type="submit"]:hover {
  background-color: #ff4a4a;
}

.effect-entry {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
}

.effect-entry select {
  flex: 1;
}

.effect-entry button {
  background-color: #ff4a4a;
  padding: 6px 10px;
  font-weight: bold;
  border-radius: 6px;
}

.effect-entry button:hover {
  background-color: #ff1c1c;
}

@media (max-width: 600px) {
  form {
    padding: 20px;
  }

  h1 {
    font-size: 2rem;
  }

  input[type="submit"] {
    width: 100%;
  }

  .effect-entry {
    flex-direction: column;
    align-items: stretch;
  }
}

#preview {
  max-width: 700px;
  margin: 0 auto 30px auto;
  padding: 20px;
  background-color: #121212;
  border: 1px solid #c02d2d;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(192, 45, 45, 0.2);
  text-align: left;
}

#preview h3 {
  color: #ff4a4a;
  font-size: 1.5rem;
  margin-bottom: 15px;
  border-bottom: 1px solid #c02d2d;
  padding-bottom: 6px;
}

#preview p {
  margin: 8px 0;
  font-size: 1.1rem;
}

#preview span {
  font-weight: bold;
  color: #e74c3c; /* bright red for emphasis */
}

/* ---------- Home Page ---------- */
.container {
  max-width: 700px;
  margin: 0 auto;
}

.center-stack {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  margin-top: 60px;
}

.btn {
  display: inline-block;
  text-decoration: none;
  background-color: #c02d2d;
  color: #fff;
  border: 1px solid #c02d2d;
  border-radius: 10px;
  padding: 14px 22px;
  font-size: 1.05rem;
  transition: background 0.3s, border-color 0.3s, transform 0.06s;
  box-shadow: 0 0 10px rgba(192, 45, 45, 0.2);
}

.btn:hover {
  background-color: #ff4a4a;
  border-color: #ff4a4a;
}

.btn:active {
  transform: translateY(1px);
}

.btn-secondary {
  background-color: #1a1a1a;
  color: #f0f0f0;
  border-color: #c02d2d;
}

.btn-secondary:hover {
  background-color: #2a2a2a;
}

.btn-full {
  width: 100%;
  text-align: center;
}

.home-card {
  background-color: #1a1a1a;
  border: 1px solid #c02d2d;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(192, 45, 45, 0.4);
  padding: 28px;
}

/* ---------- Template Filters ---------- */
.filter-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
}

.filter-bar input[type="text"] {
  flex: 2;
  min-width: 200px;
}

.filter-bar select {
  flex: 1;
  min-width: 160px;
  padding: 8px;
  background-color: #101010;
  color: #f0f0f0;
  border: 1px solid #c02d2d;
  border-radius: 6px;
}

.filter-bar button {
  flex: 0;
  padding: 10px 16px;
  font-size: 0.95rem;
}

/* ---------- Top bar with small login button ---------- */
.topbar {
  max-width: 900px;
  margin: 0 auto 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.topbar h1 {
  margin: 0;
}
.auth-inline {
  display: flex;
  align-items: center;
  gap: 10px;
}
.btn.small {
  padding: 8px 12px;
  font-size: 0.95rem;
  border-radius: 8px;
}
.user-chip {
  display: none; /* shown when logged in */
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  background-color: #1a1a1a;
  border: 1px solid #c02d2d;
  border-radius: 999px;
  box-shadow: 0 0 6px rgba(192,45,45,.25);
}
.user-chip .chip-name {
  opacity: .9;
  font-size: .95rem;
}
.btn.linklike {
  background: transparent;
  border: 1px solid #c02d2d;
  padding: 6px 10px;
  font-size: .9rem;
}

/* ---------- Modal ---------- */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.65);
  display: none;
  z-index: 999;
}
.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.modal.open, .modal-backdrop.open {
  display: flex;
}
.modal-card {
  width: 420px;
  max-width: calc(100% - 32px);
  background: #1a1a1a;
  border: 1px solid #c02d2d;
  border-radius: 12px;
  box-shadow: 0 0 18px rgba(192,45,45,.35);
  padding: 20px;
}
.modal-card header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}
.modal-title {
  font-size: 1.2rem;
  color: #ff4a4a;
}
.modal-close {
  background: transparent;
  border: 1px solid #c02d2d;
  border-radius: 8px;
  padding: 4px 8px;
  font-size: .9rem;
}
.modal-actions {
  display: flex;
  gap: 10px;
  margin-top: 14px;
  justify-content: flex-end;
}

/* Pills for moderation state */
.pill { display:inline-block; padding:2px 10px; border-radius:999px; color:#fff; font-size:.8rem; }
.pill-green  { background:#22c55e; }
.pill-yellow { background:#f59e0b; }
.pill-red    { background:#ef4444; }

/* Row layout for action buttons */
.action-row { display:flex; gap:8px; flex-wrap:wrap; }

/* Optional color accents */
.btn-approve { background:#22c55e; border-color:#22c55e; }
.btn-review  { background:#f59e0b; border-color:#f59e0b; }
.btn-flag    { background:#ef4444; border-color:#ef4444; }

.knob-cost { margin-left: 8px; opacity: .75; font-size: .9rem; }
.effect-cost { margin-top: 4px; opacity: .8; font-size: .9rem; }
.type-chip { margin-left:8px; padding:2px 6px; border-radius:6px; background:rgb(0, 0, 0); font-size:.8rem; color: #0a0a0a; }

  .hidden { display: none; }
  .modal {
    position: fixed; inset: 0; display: grid; place-items: center;
    background: rgba(0,0,0,.45); z-index: 1000; padding: 16px;
  }
  .modal-card {
    width: min(900px, 96vw); max-height: 90vh; overflow: auto;
    background: #111; color: #eee; border-radius: 16px; padding: 20px 22px;
    box-shadow: 0 10px 30px rgba(0,0,0,.5);
  }
  .modal-close {
    float: right; font-size: 28px; line-height: 1; background: transparent; border: 0;
    color: #aaa; cursor: pointer;
  }
  .modal-close:hover { color: #fff; }
  .details-grid {
    display: grid; gap: 16px; grid-template-columns: 1fr 1fr; margin-bottom: 12px;
  }
  .kv { list-style: none; padding: 0; margin: 0; }
  .kv li { margin: 6px 0; }
  .bulleted { margin-left: 18px; }

  .scrollbox { max-height: 60vh; overflow-y: auto; }

  :root{
    --row-gap: 10px;
    --pad: 10px;
    --border: #222;
    --muted: .85;
  }

  /* Toolbar */
  .toolbar{
    display:flex;
    gap:10px;
    align-items:center;
    flex-wrap:wrap;
  }
  .toolbar .spacer{ flex:1 1 auto; }

  /* List wrapper */
  .list-wrap{
    border:1px solid var(--border);
    border-radius:12px;
    overflow:auto;
    max-height:64vh;
    background:#0f0f0f;
  }

  /* Grid header + rows share same template */
  .grid{
    display:grid;
    grid-template-columns:
      90px                         /* ID */
      minmax(160px, 1.2fr)         /* Name */
      minmax(230px, 1fr)           /* Numbers */
      150px;                       /* Actions */
    gap: var(--row-gap);
    align-items:center;
    padding: 10px var(--pad);
    border-bottom:1px solid var(--border);
  }
  .grid.header{
    position:sticky; top:0;
    background:#101010;
    z-index:1;
    font-weight:600;
  }
  .grid.item{ padding-top:12px; padding-bottom:12px; }

  /* Field blocks */
  .id-pill{ opacity:var(--muted); font-size:.9rem }
  .mini{ font-size:.9rem; opacity:.9 }
  .muted{ opacity:var(--muted) }
  .num-grid{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:6px;
    align-items:end;
  }
  .num-grid label{ display:block; font-size:.8rem; opacity:.85; margin-bottom:2px; }
  .num-grid input{ width:100%; }

  .actions{ display:flex; gap:8px; justify-content:flex-end; }

  input[type="text"], textarea{ width:100%; }

  .modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.45); z-index:1000; padding:16px; }
  .modal-card{ width:min(780px,96vw); max-height:90vh; overflow:auto; background:#111; color:#eee; border-radius:16px; padding:18px 20px; box-shadow:0 10px 30px rgba(0,0,0,.5); }
  .modal-close{ float:right; font-size:26px; background:transparent; border:0; color:#aaa; cursor:pointer; }
  .modal-close:hover{ color:#fff; }

  /* Responsive: stack on narrow screens */
  @media (max-width: 920px){
    .grid{
      grid-template-columns: 1fr;
    }
    .actions{ justify-content:flex-start; }
    .id-pill{ margin-bottom:4px; }
  }

/* === Spell List View (migrated from inline <style>) === */
html.modal-open, body.modal-open { overflow: hidden; }

    #sl, #sl * { box-sizing: border-box; }
    #sl { color: #eee; }
    #sl a { color: inherit; }

    /* Layout */
    #sl .wrap{ max-width:1120px; margin:24px auto; padding:0 16px; }
    #sl .hero{ font-size:2rem; margin:12px 0 4px; line-height:1.2; }
    #sl .sub{ opacity:.85; }
    #sl .row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    #sl .row > * { min-width:0; } /* critical for preventing flex children overflow */
    #sl .spacer{ flex:1; }

    #sl .card{ border:1px solid #333; border-radius:14px; padding:16px; background:#0c0c0c; }

    #sl .grid{ display:grid; gap:16px; }
    #sl .grid.cols-2{ grid-template-columns:1fr 1fr; }
    @media (max-width:980px){ #sl .grid.cols-2{ grid-template-columns:1fr; } }

    #sl .chips{ display:flex; gap:6px; flex-wrap:wrap; }
    #sl .pill{ border:1px solid #444; padding:2px 8px; border-radius:999px; }
    #sl .muted{ opacity:.8; }
    #sl .k{ font-weight:600; }
    #sl .hint{ font-size:.9rem; opacity:.85; }
    #sl .badge{ border:1px solid #555; border-radius:6px; padding:2px 6px; white-space:nowrap; }
    #sl .ok{ border-color:#2a6; }
    #sl .warn{ border-color:#a62; }
    #sl .err{ border-color:#a33; }
    #sl .empty{ opacity:.75; padding:10px; }

    #sl input[type="text"],
    #sl input[type="number"],
    #sl input[type="password"],
    #sl select { width:auto; max-width:100%; padding:8px 10px; background:#0a0a0a; color:#eee; border:1px solid #333; border-radius:8px; }

    #sl .table-wrap{ overflow:auto; -webkit-overflow-scrolling: touch; border-radius:10px; }
    #sl .table{ width:100%; border-collapse:collapse; min-width:760px; }
    #sl .table th, #sl .table td{ border-bottom:1px solid #222; padding:10px; text-align:left; vertical-align:top; }
    #sl .table th{ opacity:.85; position:sticky; top:0; background:#0c0c0c; }
    #sl .table td, #sl .table th{ word-break: break-word; overflow-wrap: anywhere; }

    #sl .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.6); z-index:3000; display:none; }
    #sl .modal{ position:fixed; inset:0; display:none; z-index:3001; align-items:center; justify-content:center; padding:16px; }
    #sl .modal.open, #sl .modal-backdrop.open{ display:flex; }
    #sl .modal-card{
      width:100%; max-width:960px; background:#0e0e0e; border:1px solid #2a2a2a;
      border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.6);
      max-height:90vh; overflow:auto;
    }
    #sl .modal-card header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; gap:12px; }
    #sl .modal-title{ font-weight:700; }
    #sl .modal-close{ border:0; background:transparent; color:inherit; cursor:pointer; font-size:18px; }

    #sl .grid-iv{ display:grid; gap:8px; grid-template-columns:repeat(4, minmax(120px,1fr)); }
    #sl .grid-iv label{ font-size:.9rem; opacity:.95 }
    #sl .grid-iv input{ width:100%; }
    @media (max-width:840px){ #sl .grid-iv{ grid-template-columns:repeat(2, minmax(120px,1fr)); } }
.topbar.sticky { position: sticky; top:0; z-index:1100; backdrop-filter: blur(4px); }
/* --- Spell List View spacing (scoped) --- */
#sl .card, #sl .home-card { margin-top: 16px; }
#sl .home-card + .home-card { margin-top: 16px; }
/* Avoid flex children overflow inside .row */
#sl .row > * { min-width: 0; }
/* Ensure tables don't overflow their containers on narrow screens */
#sl .table-wrap { overflow: auto; -webkit-overflow-scrolling: touch; }
/* Give sticky topbar a background to avoid text overlap under blur-only backdrops */
.topbar.sticky { background: rgba(10,10,10,0.6); }

/* Modal hardening */
.modal {
  position: fixed;
  inset: 0;
  display: flex;                 /* show by default; we'll hide via .hidden */
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,.55);
  z-index: 9999;                 /* above everything */
  pointer-events: auto;          /* allow clicks inside */
}
.modal.hidden { display: none !important; }

.modal-card {
  position: relative;
  max-width: 90vw;
  max-height: 85vh;
  overflow: auto;
  background: #111;              /* match your theme */
  border: 1px solid #333;
  border-radius: 12px;
  padding: 16px;
}

.modal-close {
  position: absolute;
  top: 8px;
  right: 12px;
  background: transparent;
  border: 0;
  font-size: 1.6rem;
  line-height: 1;
  cursor: pointer;
}
