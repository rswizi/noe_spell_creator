<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Character Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="/static/character.css"/>
</head>
<body>
  <div class="wrap">

    <!-- HEADER -->
    <div class="panel">
      <div class="header">
        <div class="header-left">
          <img id="charAvatar" class="avatar" alt="avatar"
               src="https://assets.forge-vtt.com/bazaar/core/icons/svg/mystery-man.svg"/>
          <label class="pill">
            <span>Image URL</span>
            <input id="avatarUrl" class="input" placeholder="https://…" />
          </label>
        </div>

        <div class="panel soft">
          <div class="title">Character</div>
          <div class="rowline"><div>Name</div><input id="c_name" class="input" value="Akari of the East"/></div>
          <div class="rowline"><div>Level</div><input id="c_level" class="input" type="number" min="1" max="100" value="1"/></div>
          <div class="rowline"><div>XP</div><input id="c_xp" class="input" type="number" min="0" value="0"/></div>

          <div class="badges">
            <span class="badge">MO: <b id="k_mo" class="mono">4</b></span>
            <span class="badge">Initiative: <b id="k_init" class="mono">4</b></span>
            <span class="badge">ET: <b id="k_et" class="mono">1</b></span>
            <span class="badge">Condition DC: <b id="k_cdc" class="mono">6</b></span>
          </div>
        </div>

        <div class="header-right">
          <div class="title">Resources</div>
          <div class="res">
            <div class="kpi">
              <div class="kpi-head">HP</div>
              <div class="kpi-num"><span id="hp_cur">100</span>/<span id="hp_max">100</span></div>
              <div class="bar hp"><i id="hp_bar"></i></div>
            </div>
            <div class="kpi">
              <div class="kpi-head">SP</div>
              <div class="kpi-num"><span id="sp_cur">0</span>/<span id="sp_max">10</span></div>
              <div class="bar sp"><i id="sp_bar"></i></div>
            </div>
            <div class="kpi">
              <div class="kpi-head">EN</div>
              <div class="kpi-num"><span id="en_cur">5</span>/<span id="en_max">5</span></div>
              <div class="bar en"><i id="en_bar"></i></div>
            </div>
            <div class="kpi">
              <div class="kpi-head">FO</div>
              <div class="kpi-num"><span id="fo_cur">2</span>/<span id="fo_max">2</span></div>
              <div class="bar fo"><i id="fo_bar"></i></div>
            </div>
            <div class="kpi">
              <div class="kpi-head">TX</div>
              <div class="kpi-num"><span id="tx_cur">0</span>/<span id="tx_max">0</span></div>
              <div class="bar tx"><i id="tx_bar"></i></div>
            </div>
            <div class="kpi">
              <div class="kpi-head">Enc</div>
              <div class="kpi-num"><span id="enc_cur">0</span>/<span id="enc_max">10</span></div>
              <div class="bar"><i id="enc_bar"></i></div>
            </div>
          </div>
          <div class="hint">Max values are derived. Current values will be editable in combat/inventory later.</div>
        </div>
      </div>
    </div>

    <!-- TABS -->
    <div class="panel">
      <div class="tabs">
        <button class="tab active" data-tab="stats">Statistics</button>
        <button class="tab" data-tab="inventory">Inventory</button>
        <button class="tab" data-tab="abilities">Abilities</button>
        <button class="tab" data-tab="combat">Combat</button>
        <button class="tab" data-tab="personal">Personal</button>
      </div>

      <!-- STATISTICS -->
      <div id="tab-stats" class="tabpan active">

        <!-- counters -->
        <div class="grid-3">
          <div class="counter-box">
            <div class="label">Skill Points</div>
            <div class="num mono"><span id="sp_used">0</span> / <span id="sp_max">40</span>
              <span class="mini">[cap <span id="skill_cap">3</span>]</span></div>
          </div>
          <div class="counter-box">
            <div class="label">Characteristic Points</div>
            <div class="num mono"><span id="cp_used">0</span> / <span id="cp_max">22</span>
              <span class="mini">[cap <span id="char_cap">10</span>]</span></div>
          </div>
          <div class="counter-box">
            <div class="label">Sublimation</div>
            <div class="num mono"><span id="sub_used">0</span> / <span id="sub_max">0</span></div>
            <div class="mini">Tier cap: <span id="sub_tier">1</span> (I–IV)</div>
          </div>
        </div>

        <!-- Sublimations -->
        <div class="panel soft" style="margin-top:12px">
          <div class="header-row">
            <div class="title sm">Sublimations</div>
            <button id="btnAddSub" class="btn subtle">Add Sublimation</button>
          </div>
          <table class="tbl" id="subTable">
            <thead>
              <tr>
                <th style="width:260px">Type</th>
                <th>Skill (for Excellence)</th>
                <th style="width:110px">Tier</th>
                <th class="right" style="width:70px">Slots</th>
                <th style="width:80px"></th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="mini muted">Types: Lethality, Excellence (choose a skill), Blessing, Defense, Speed, Devastation, Clarity, Endurance.</div>
        </div>

        <!-- Characteristics (2 per row) -->
        <div class="title" style="margin-top:12px">Characteristics &amp; Skills</div>
        <div class="char-grid">

          <!-- REF -->
          <section class="char-card" data-char="ref" data-invest="reflexp">
            <div class="char-head"><div class="char-name">Reflex (REF)</div><div class="char-metrics mono"><b data-total="ref">4</b> | <span class="muted">Milestone:</span> <b data-mile="ref">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="reflexp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Technicity</div><input class="input" type="number" min="0" max="8" value="0" data-skill="technicity"/><div class="skill-base mono" data-base="technicity">0</div></div>
            <div class="skill-row"><div>Dodge</div><input class="input" type="number" min="0" max="8" value="0" data-skill="dodge"/><div class="skill-base mono" data-base="dodge">0</div></div>
            <div class="skill-row"><div>Tempo</div><input class="input" type="number" min="0" max="8" value="0" data-skill="tempo"/><div class="skill-base mono" data-base="tempo">0</div></div>
            <div class="skill-row"><div>Reactivity</div><input class="input" type="number" min="0" max="8" value="0" data-skill="reactivity"/><div class="skill-base mono" data-base="reactivity">0</div></div>
          </section>

          <!-- DEX -->
          <section class="char-card" data-char="dex" data-invest="dexterityp">
            <div class="char-head"><div class="char-name">Dexterity (DEX)</div><div class="char-metrics mono"><b data-total="dex">4</b> | <span class="muted">Milestone:</span> <b data-mile="dex">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="dexterityp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Accuracy</div><input class="input" type="number" min="0" max="8" value="0" data-skill="accuracy"/><div class="skill-base mono" data-base="accuracy">0</div></div>
            <div class="skill-row"><div>Evasion</div><input class="input" type="number" min="0" max="8" value="0" data-skill="evasion"/><div class="skill-base mono" data-base="evasion">0</div></div>
            <div class="skill-row"><div>Stealth</div><input class="input" type="number" min="0" max="8" value="0" data-skill="stealth"/><div class="skill-base mono" data-base="stealth">0</div></div>
            <div class="skill-row"><div>Acrobatics</div><input class="input" type="number" min="0" max="8" value="0" data-skill="acrobatics"/><div class="skill-base mono" data-base="acrobatics">0</div></div>
          </section>

          <!-- BOD -->
          <section class="char-card" data-char="bod" data-invest="bodyp">
            <div class="char-head"><div class="char-name">Body (BOD)</div><div class="char-metrics mono"><b data-total="bod">4</b> | <span class="muted">Milestone:</span> <b data-mile="bod">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="bodyp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Brutality</div><input class="input" type="number" min="0" max="8" value="0" data-skill="brutality"/><div class="skill-base mono" data-base="brutality">0</div></div>
            <div class="skill-row"><div>Blocking</div><input class="input" type="number" min="0" max="8" value="0" data-skill="blocking"/><div class="skill-base mono" data-base="blocking">0</div></div>
            <div class="skill-row"><div>Resistance</div><input class="input" type="number" min="0" max="8" value="0" data-skill="resistance"/><div class="skill-base mono" data-base="resistance">0</div></div>
            <div class="skill-row"><div>Athletics</div><input class="input" type="number" min="0" max="8" value="0" data-skill="athletics"/><div class="skill-base mono" data-base="athletics">0</div></div>
          </section>

          <!-- WIL -->
          <section class="char-card" data-char="wil" data-invest="willpowerp">
            <div class="char-head"><div class="char-name">Willpower (WIL)</div><div class="char-metrics mono"><b data-total="wil">4</b> | <span class="muted">Milestone:</span> <b data-mile="wil">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="willpowerp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Intimidation</div><input class="input" type="number" min="0" max="8" value="0" data-skill="intimidation"/><div class="skill-base mono" data-base="intimidation">0</div></div>
            <div class="skill-row"><div>Spirit</div><input class="input" type="number" min="0" max="8" value="0" data-skill="spirit"/><div class="skill-base mono" data-base="spirit">0</div></div>
            <div class="skill-row"><div>Instinct</div><input class="input" type="number" min="0" max="8" value="0" data-skill="instinct"/><div class="skill-base mono" data-base="instinct">0</div></div>
            <div class="skill-row"><div>Absorption</div><input class="input" type="number" min="0" max="8" value="0" data-skill="absorption"/><div class="skill-base mono" data-base="absorption">0</div></div>
          </section>

          <!-- MAG -->
          <section class="char-card" data-char="mag" data-invest="magicp">
            <div class="char-head"><div class="char-name">Magic (MAG)</div><div class="char-metrics mono"><b data-total="mag">4</b> | <span class="muted">Milestone:</span> <b data-mile="mag">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="magicp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Aura</div><input class="input" type="number" min="0" max="8" value="0" data-skill="aura"/><div class="skill-base mono" data-base="aura">0</div></div>
            <div class="skill-row"><div>Incantation</div><input class="input" type="number" min="0" max="8" value="0" data-skill="incantation"/><div class="skill-base mono" data-base="incantation">0</div></div>
            <div class="skill-row"><div>Enchantment</div><input class="input" type="number" min="0" max="8" value="0" data-skill="enchantment"/><div class="skill-base mono" data-base="enchantment">0</div></div>
            <div class="skill-row"><div>Restoration</div><input class="input" type="number" min="0" max="8" value="0" data-skill="restoration"/><div class="skill-base mono" data-base="restoration">0</div></div>
            <div class="skill-row"><div>Potential</div><input class="input" type="number" min="0" max="8" value="0" data-skill="potential"/><div class="skill-base mono" data-base="potential">0</div></div>
          </section>

          <!-- PRE -->
          <section class="char-card" data-char="pre" data-invest="presencep">
            <div class="char-head"><div class="char-name">Presence (PRE)</div><div class="char-metrics mono"><b data-total="pre">4</b> | <span class="muted">Milestone:</span> <b data-mile="pre">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="presencep"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Taming</div><input class="input" type="number" min="0" max="8" value="0" data-skill="taming"/><div class="skill-base mono" data-base="taming">0</div></div>
            <div class="skill-row"><div>Charm</div><input class="input" type="number" min="0" max="8" value="0" data-skill="charm"/><div class="skill-base mono" data-base="charm">0</div></div>
            <div class="skill-row"><div>Charisma</div><input class="input" type="number" min="0" max="8" value="0" data-skill="charisma"/><div class="skill-base mono" data-base="charisma">0</div></div>
            <div class="skill-row"><div>Deception</div><input class="input" type="number" min="0" max="8" value="0" data-skill="deception"/><div class="skill-base mono" data-base="deception">0</div></div>
            <div class="skill-row"><div>Persuasion</div><input class="input" type="number" min="0" max="8" value="0" data-skill="persuasion"/><div class="skill-base mono" data-base="persuasion">0</div></div>
          </section>

          <!-- WIS -->
          <section class="char-card" data-char="wis" data-invest="wisdomp">
            <div class="char-head"><div class="char-name">Wisdom (WIS)</div><div class="char-metrics mono"><b data-total="wis">4</b> | <span class="muted">Milestone:</span> <b data-mile="wis">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="wisdomp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Survival</div><input class="input" type="number" min="0" max="8" value="0" data-skill="survival"/><div class="skill-base mono" data-base="survival">0</div></div>
            <div class="skill-row"><div>Education</div><input class="input" type="number" min="0" max="8" value="0" data-skill="education"/><div class="skill-base mono" data-base="education">0</div></div>
            <div class="skill-row"><div>Perception</div><input class="input" type="number" min="0" max="8" value="0" data-skill="perception"/><div class="skill-base mono" data-base="perception">0</div></div>
            <div class="skill-row"><div>Psychology</div><input class="input" type="number" min="0" max="8" value="0" data-skill="psychology"/><div class="skill-base mono" data-base="psychology">0</div></div>
            <div class="skill-row"><div>Investigation</div><input class="input" type="number" min="0" max="8" value="0" data-skill="investigation"/><div class="skill-base mono" data-base="investigation">0</div></div>
          </section>

          <!-- TEC -->
          <section class="char-card" data-char="tec" data-invest="techp">
            <div class="char-head"><div class="char-name">Tech (TEC)</div><div class="char-metrics mono"><b data-total="tec">4</b> | <span class="muted">Milestone:</span> <b data-mile="tec">-3</b></div></div>
            <div class="char-invest"><span class="label">Invested</span><input class="input" type="number" min="0" max="16" value="0" data-invest="techp"/><span class="mini muted">[Total is 4 + invested]</span></div>
            <div class="skill-row"><div>Crafting</div><input class="input" type="number" min="0" max="8" value="0" data-skill="crafting"/><div class="skill-base mono" data-base="crafting">0</div></div>
            <div class="skill-row"><div>Sleight of hand</div><input class="input" type="number" min="0" max="8" value="0" data-skill="soh"/><div class="skill-base mono" data-base="soh">0</div></div>
            <div class="skill-row"><div>Alchemy</div><input class="input" type="number" min="0" max="8" value="0" data-skill="alchemy"/><div class="skill-base mono" data-base="alchemy">0</div></div>
            <div class="skill-row"><div>Medicine</div><input class="input" type="number" min="0" max="8" value="0" data-skill="medecine"/><div class="skill-base mono" data-base="medecine">0</div></div>
            <div class="skill-row"><div>Engineering</div><input class="input" type="number" min="0" max="8" value="0" data-skill="engineering"/><div class="skill-base mono" data-base="engineering">0</div></div>
          </section>

        </div>
      </div>

      <!-- other tabs -->
      <div id="tab-inventory" class="tabpan"><p class="muted">Inventory coming soon.</p></div>
      <div id="tab-abilities" class="tabpan"><p class="muted">Abilities coming soon.</p></div>
      <div id="tab-combat" class="tabpan"><p class="muted">Combat coming soon.</p></div>
      <div id="tab-personal" class="tabpan">
        <div class="grid-2">
          <div class="panel soft">
            <div class="rowline"><div>Height</div><input id="p_height" class="input" placeholder="175 cm"/></div>
            <div class="rowline"><div>Weight</div><input id="p_weight" class="input" placeholder="70 kg"/></div>
            <div class="rowline"><div>Birthday</div><input id="p_bday" class="input" placeholder="TBD"/></div>
          </div>
          <div class="panel soft">
            <label class="label">Backstory</label>
            <textarea id="p_backstory" class="input" rows="6"></textarea>
            <label class="label" style="margin-top:8px">Player Notes</label>
            <textarea id="p_notes" class="input" rows="6"></textarea>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script src="/static/character.js" defer></script>
</body>
</html>
